<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>SDMetrics User Manual - Using the New Metric Procedure</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel=stylesheet type="text/css" href="images/manlook.css">
</head>
<body>
<table class="nav" width="100%"><tr><td class="nav" align="left"><a href="MetProcImpl.html">Prev</a> - <a href="SetProc.html">Next</a> - <a href="#pageBottom">Down</a><td class="nav" align="right"><a href="http://www.sdmetrics.com">SDMetrics - the UML design measurement tool</a></td></tr></table>
<hr>
<a href="index.html">Contents</a> > <a href="ExtendME.html">9 Extending the Metrics and Rule Engine</a> > <a href="MetProc.html">9.1 Metric Procedures</a> > 9.1.3 Using the New Metric Procedure
<hr>
<h3><a name="MetProcUse"></a>9.1.3 Using the New Metric Procedure</h3>

Before we can use our new metric procedure, we must first register it with the 
metrics engine. We add the following XML element to our metric definition file:

<pre>
&lt;metricprocedure name="pairwise" 
	class="com.acme.MetricProcedurePairwise" /&gt;
</pre>

Attribute <tt>name</tt> defines the name to denote the metric procedure in subsequent
metric definitions, attribute <tt>class</tt> defines the fully qualified name of
the metric procedure class.<p>

We can then define metrics using our newly created metric procedure. Here's another
example of a LCOM-style cohesion metric:

<pre>
&lt;metric name="LCOC_AttributeTypes" domain="package"&gt;
&lt;description&gt;The maximum number of attribute types shared by a pair 
   of classes in a package.&lt;/description&gt;
&lt;pairwise relation="context" target="class" 
   sum="size(_first.AttrTypeSet * _second.AttrTypeSet)" stat="max" /&gt;
&lt;/metric&gt;
</pre>

For SDMetrics to find our new metric procedure, we have to ensure that
the class is included in the class path when we run SDMetrics. The simplest
way to achieve this is by putting the class files in the "bin" folder of the SDMetrics
installation directory. SDMetrics searches this directory for class files.<p>

Within the "bin" directory, we have to create a structure of subfolders that
reflects the packages of the classes we provide. The class file for class
<tt>com.acme.MetricProcedurePairwise</tt> therefore will be located
at the path <tt>bin/com/acme/MetricProcedurePairwise.class</tt>.

<hr><a name="pageBottom"></a>
<table class="nav" width="100%"><tr>
<td width="40%" class="nav" align="left"><a href="MetProcImpl.html">Prev</a></td>
<td width="20%" class="nav" align="center"><a href="MetProc.html">Up</a></td>
<td width="40%" class="nav" align="right"><a href="SetProc.html">Next</a></td>
</tr><tr><td class="nav" align="left">Section&nbsp;9.1.2 "Implementation of the Metric Procedure"</td><td class="nav" align="center"><a href="index.html">Contents</a></td><td class="nav" align="right">Section&nbsp;9.2 "Set Procedures"</td></tr></table>

</body>
</html>
